import{S as zt,i as Mt,s as Gt,k as T,q as G,a as L,y as Wt,N as J,l as E,m as S,r as W,h as b,c as $,z as Kt,O as H,n as p,b as Dt,D as h,Q as B,A as Jt,K as at,R as Ut,g as Ht,d as Vt,B as Zt,T as Qt}from"../chunks/index.7582b933.js";import{T as Yt,f as Xt,e as te}from"../chunks/forms.4d6b0ba2.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.e94c8fa9.js";var wt=function(s,o){return wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},wt(s,o)};function I(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function t(){this.constructor=s}wt(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}var St=function(){return St=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},St.apply(this,arguments)};function O(s,o,t,e){return new(t||(t=Promise))(function(n,i){function r(l){try{c(e.next(l))}catch(d){i(d)}}function a(l){try{c(e.throw(l))}catch(d){i(d)}}function c(l){l.done?n(l.value):function(u){return u instanceof t?u:new t(function(f){f(u)})}(l.value).then(r,a)}c((e=e.apply(s,o||[])).next())})}function P(s,o){var t,e,n,i,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(l){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(t=1,e&&(n=2&u[0]?e.return:u[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,u[1])).done)return n;switch(e=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,e=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!((n=n.length>0&&n[n.length-1])||u[0]!==6&&u[0]!==2)){r=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){r.label=u[1];break}if(u[0]===6&&r.label<n[1]){r.label=n[1],n=u;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(u);break}n[2]&&r.ops.pop(),r.trys.pop();continue}u=o.call(s,r)}catch(f){u=[6,f],e=0}finally{t=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,l])}}}var Ft,z=function(s){function o(t){var e,n,i,r,a=this;return(a=s.call(this,"ClientResponseError")||this).url="",a.status=0,a.response={},a.isAbort=!1,a.originalError=null,Object.setPrototypeOf(a,o.prototype),t!==null&&typeof t=="object"&&(a.url=typeof t.url=="string"?t.url:"",a.status=typeof t.status=="number"?t.status:0,a.isAbort=!!t.isAbort,a.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?a.response=t.response:t.data!==null&&typeof t.data=="object"?a.response=t.data:a.response={}),a.originalError||t instanceof o||(a.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(a.isAbort=!0),a.name="ClientResponseError "+a.status,a.message=(e=a.response)===null||e===void 0?void 0:e.message,a.message||(a.isAbort?a.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((r=(i=(n=a.originalError)===null||n===void 0?void 0:n.cause)===null||i===void 0?void 0:i.message)===null||r===void 0)&&r.includes("ECONNREFUSED ::1")?a.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":a.message="Something went wrong while processing your request."),a}return I(o,s),Object.defineProperty(o.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return St({},this)},o}(Error),ut=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Nt(s,o,t){var e=Object.assign({},t||{}),n=e.encode||ne;if(!ut.test(s))throw new TypeError("argument name is invalid");var i=n(o);if(i&&!ut.test(i))throw new TypeError("argument val is invalid");var r=s+"="+i;if(e.maxAge!=null){var a=e.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(a)}if(e.domain){if(!ut.test(e.domain))throw new TypeError("option domain is invalid");r+="; Domain="+e.domain}if(e.path){if(!ut.test(e.path))throw new TypeError("option path is invalid");r+="; Path="+e.path}if(e.expires){if(!function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date}(e.expires)||isNaN(e.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(r+="; HttpOnly"),e.secure&&(r+="; Secure"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():e.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function ee(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function ne(s){return encodeURIComponent(s)}function qt(s){if(s)try{var o=decodeURIComponent(Ft(s.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(o)||{}}catch{}return{}}function oe(s,o){o===void 0&&(o=0);var t=qt(s);return!(Object.keys(t).length>0&&(!t.exp||t.exp-o>Date.now()/1e3))}Ft=typeof atob=="function"?atob:function(s){var o=String(s).replace(/=+$/,"");if(o.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,e,n=0,i=0,r="";e=o.charAt(i++);~e&&(t=n%4?64*t+e:e,n++%4)?r+=String.fromCharCode(255&t>>(-2*n&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return r};var ot=function(){function s(o){o===void 0&&(o={}),this.$load(o||{})}return s.prototype.load=function(o){return this.$load(o)},s.prototype.$load=function(o){for(var t=0,e=Object.entries(o);t<e.length;t++){var n=e[t],i=n[0],r=n[1];this[i]=r}this.id=o.id!==void 0?o.id:"",this.created=o.created!==void 0?o.created:"",this.updated=o.updated!==void 0?o.updated:""},Object.defineProperty(s.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return this.$clone()},s.prototype.$clone=function(){var o=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(o)},s.prototype.export=function(){return this.$export()},s.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},s}(),ct=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.$load=function(t){s.prototype.$load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this._loadExpand(t.expand)},o.prototype._loadExpand=function(t){for(var e in t=t||{},this.expand={},t)Array.isArray(t[e])?this.expand[e]=t[e].map(function(n){return new o(n||{})}):this.expand[e]=new o(t[e]||{})},o}(ot),Ct=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.$load=function(t){s.prototype.$load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},o}(ot),Lt="pb_auth",ie=function(){function s(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(s.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValid",{get:function(){return!oe(this.token)},enumerable:!1,configurable:!0}),s.prototype.save=function(o,t){this.baseToken=o||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new ct(t):new Ct(t):null,this.triggerChange()},s.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},s.prototype.loadFromCookie=function(o,t){t===void 0&&(t=Lt);var e=function(r,a){var c={};if(typeof r!="string")return c;for(var l=Object.assign({},a||{}).decode||ee,d=0;d<r.length;){var u=r.indexOf("=",d);if(u===-1)break;var f=r.indexOf(";",d);if(f===-1)f=r.length;else if(f<u){d=r.lastIndexOf(";",u-1)+1;continue}var y=r.slice(d,u).trim();if(c[y]===void 0){var v=r.slice(u+1,f).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1));try{c[y]=l(v)}catch{c[y]=v}}d=f+1}return c}(o||"")[t]||"",n={};try{(typeof(n=JSON.parse(e))===null||typeof n!="object"||Array.isArray(n))&&(n={})}catch{}this.save(n.token||"",n.model||null)},s.prototype.exportToCookie=function(o,t){var e,n,i;t===void 0&&(t=Lt);var r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},a=qt(this.token);a!=null&&a.exp?r.expires=new Date(1e3*a.exp):r.expires=new Date("1970-01-01"),o=Object.assign({},r,o);var c={token:this.token,model:((e=this.model)===null||e===void 0?void 0:e.export())||null},l=Nt(t,JSON.stringify(c),o),d=typeof Blob<"u"?new Blob([l]).size:l.length;return c.model&&d>4096&&(c.model={id:(n=c==null?void 0:c.model)===null||n===void 0?void 0:n.id,email:(i=c==null?void 0:c.model)===null||i===void 0?void 0:i.email},this.model instanceof ct&&(c.model.username=this.model.username,c.model.verified=this.model.verified,c.model.collectionId=this.model.collectionId),l=Nt(t,JSON.stringify(c),o)),l},s.prototype.onChange=function(o,t){var e=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(o),t&&o(this.token,this.model),function(){for(var n=e._onChangeCallbacks.length-1;n>=0;n--)if(e._onChangeCallbacks[n]==o)return delete e._onChangeCallbacks[n],void e._onChangeCallbacks.splice(n,1)}},s.prototype.triggerChange=function(){for(var o=0,t=this._onChangeCallbacks;o<t.length;o++){var e=t[o];e&&e(this.token,this.model)}},s}(),re=function(s){function o(t){t===void 0&&(t="pocketbase_auth");var e=s.call(this)||this;return e.storageFallback={},e.storageKey=t,e}return I(o,s),Object.defineProperty(o.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){var t,e=this._storageGet(this.storageKey)||{};return e===null||typeof e!="object"||e.model===null||typeof e.model!="object"?null:((t=e.model)===null||t===void 0?void 0:t.collectionId)===void 0?new Ct(e.model):new ct(e.model)},enumerable:!1,configurable:!0}),o.prototype.save=function(t,e){this._storageSet(this.storageKey,{token:t,model:e}),s.prototype.save.call(this,t,e)},o.prototype.clear=function(){this._storageRemove(this.storageKey),s.prototype.clear.call(this)},o.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var e=window.localStorage.getItem(t)||"";try{return JSON.parse(e)}catch{return e}}return this.storageFallback[t]},o.prototype._storageSet=function(t,e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=e;typeof e!="string"&&(n=JSON.stringify(e)),window.localStorage.setItem(t,n)}else this.storageFallback[t]=e},o.prototype._storageRemove=function(t){var e;typeof window<"u"&&(window!=null&&window.localStorage)&&((e=window.localStorage)===null||e===void 0||e.removeItem(t)),delete this.storageFallback[t]},o}(ie),K=function(o){this.client=o},se=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(e){return e||{}})},o.prototype.update=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send("/api/settings",{method:"PATCH",params:e,body:t}).then(function(n){return n||{}})},o.prototype.testS3=function(t,e){t===void 0&&(t="storage"),e===void 0&&(e={});var n={filesystem:t};return this.client.send("/api/settings/test/s3",{method:"POST",params:e,body:n}).then(function(){return!0})},o.prototype.testEmail=function(t,e,n){n===void 0&&(n={});var i={email:t,template:e};return this.client.send("/api/settings/test/email",{method:"POST",params:n,body:i}).then(function(){return!0})},o.prototype.generateAppleClientSecret=function(t,e,n,i,r,a,c){return a===void 0&&(a={}),c===void 0&&(c={}),a=Object.assign({clientId:t,teamId:e,keyId:n,privateKey:i,duration:r},a),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:c,body:a})},o}(K),Bt=function(o,t,e,n,i){this.page=o>0?o:1,this.perPage=t>=0?t:0,this.totalItems=e>=0?e:0,this.totalPages=n>=0?n:0,this.items=i||[]},Ot=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.getFullList=function(t,e){if(typeof t=="number")return this._getFullList(this.baseCrudPath,t,e);var n=Object.assign({},t,e);return this._getFullList(this.baseCrudPath,n.batch||200,n)},o.prototype.getList=function(t,e,n){return t===void 0&&(t=1),e===void 0&&(e=30),n===void 0&&(n={}),this._getList(this.baseCrudPath,t,e,n)},o.prototype.getFirstListItem=function(t,e){return e===void 0&&(e={}),this._getFirstListItem(this.baseCrudPath,t,e)},o.prototype.getOne=function(t,e){return e===void 0&&(e={}),this._getOne(this.baseCrudPath,t,e)},o.prototype.create=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this._create(this.baseCrudPath,t,e)},o.prototype.update=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._update(this.baseCrudPath,t,e,n)},o.prototype.delete=function(t,e){return e===void 0&&(e={}),this._delete(this.baseCrudPath,t,e)},o}(function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype._getFullList=function(t,e,n){var i=this;e===void 0&&(e=200),n===void 0&&(n={});var r=[],a=function(c){return O(i,void 0,void 0,function(){return P(this,function(l){return[2,this._getList(t,c,e||200,n).then(function(d){var u=d,f=u.items,y=u.totalItems;return r=r.concat(f),f.length&&y>r.length?a(c+1):r})]})})};return a(1)},o.prototype._getList=function(t,e,n,i){var r=this;return e===void 0&&(e=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:e,perPage:n},i),this.client.send(t,{method:"GET",params:i}).then(function(a){var c=[];if(a!=null&&a.items){a.items=a.items||[];for(var l=0,d=a.items;l<d.length;l++){var u=d[l];c.push(r.decode(u))}}return new Bt((a==null?void 0:a.page)||1,(a==null?void 0:a.perPage)||0,(a==null?void 0:a.totalItems)||0,(a==null?void 0:a.totalPages)||0,c)})},o.prototype._getOne=function(t,e,n){var i=this;return n===void 0&&(n={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(r){return i.decode(r)})},o.prototype._getFirstListItem=function(t,e,n){return n===void 0&&(n={}),n=Object.assign({filter:e,$cancelKey:"one_by_filter_"+t+"_"+e},n),this._getList(t,1,1,n).then(function(i){var r;if(!(!((r=i==null?void 0:i.items)===null||r===void 0)&&r.length))throw new z({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})},o.prototype._create=function(t,e,n){var i=this;return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(t,{method:"POST",params:n,body:e}).then(function(r){return i.decode(r)})},o.prototype._update=function(t,e,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"PATCH",params:i,body:n}).then(function(a){return r.decode(a)})},o.prototype._delete=function(t,e,n){return n===void 0&&(n={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"DELETE",params:n}).then(function(){return!0})},o}(K)),ae=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.decode=function(t){return new Ct(t)},Object.defineProperty(o.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),o.prototype.update=function(t,e,n){var i=this;return e===void 0&&(e={}),n===void 0&&(n={}),s.prototype.update.call(this,t,e,n).then(function(r){var a,c;return i.client.authStore.model&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)===void 0&&((c=i.client.authStore.model)===null||c===void 0?void 0:c.id)===(r==null?void 0:r.id)&&i.client.authStore.save(i.client.authStore.token,r),r})},o.prototype.delete=function(t,e){var n=this;return e===void 0&&(e={}),s.prototype.delete.call(this,t,e).then(function(i){var r,a;return i&&n.client.authStore.model&&((r=n.client.authStore.model)===null||r===void 0?void 0:r.collectionId)===void 0&&((a=n.client.authStore.model)===null||a===void 0?void 0:a.id)===t&&n.client.authStore.clear(),i})},o.prototype.authResponse=function(t){var e=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,e),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:e})},o.prototype.authWithPassword=function(t,e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({identity:t,password:e},n),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:i,body:n}).then(this.authResponse.bind(this))},o.prototype.authRefresh=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:e,body:t}).then(this.authResponse.bind(this))},o.prototype.requestPasswordReset=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({email:t},e),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:n,body:e}).then(function(){return!0})},o.prototype.confirmPasswordReset=function(t,e,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:t,password:e,passwordConfirm:n},i),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:r,body:i}).then(function(){return!0})},o}(Ot),ue=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.$load=function(t){s.prototype.$load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},o}(ot),ce=function(s){function o(t,e){var n=s.call(this,t)||this;return n.collectionIdOrName=e,n}return I(o,s),o.prototype.decode=function(t){return new ct(t)},Object.defineProperty(o.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),o.prototype.subscribeOne=function(t,e){return O(this,void 0,void 0,function(){return P(this,function(n){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,e)]})})},o.prototype.subscribe=function(t,e){return O(this,void 0,void 0,function(){var n;return P(this,function(i){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!e)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return n=this.collectionIdOrName,t!=="*"&&(n+="/"+t),[2,this.client.realtime.subscribe(n,e)]})})},o.prototype.unsubscribe=function(t){return O(this,void 0,void 0,function(){return P(this,function(e){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},o.prototype.getFullList=function(t,e){if(typeof t=="number")return s.prototype.getFullList.call(this,t,e);var n=Object.assign({},t,e);return s.prototype.getFullList.call(this,n)},o.prototype.getList=function(t,e,n){return t===void 0&&(t=1),e===void 0&&(e=30),n===void 0&&(n={}),s.prototype.getList.call(this,t,e,n)},o.prototype.getFirstListItem=function(t,e){return e===void 0&&(e={}),s.prototype.getFirstListItem.call(this,t,e)},o.prototype.getOne=function(t,e){return e===void 0&&(e={}),s.prototype.getOne.call(this,t,e)},o.prototype.create=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),s.prototype.create.call(this,t,e)},o.prototype.update=function(t,e,n){var i=this;return e===void 0&&(e={}),n===void 0&&(n={}),s.prototype.update.call(this,t,e,n).then(function(r){var a,c,l;return((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)!==(r==null?void 0:r.id)||((c=i.client.authStore.model)===null||c===void 0?void 0:c.collectionId)!==i.collectionIdOrName&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.collectionName)!==i.collectionIdOrName||i.client.authStore.save(i.client.authStore.token,r),r})},o.prototype.delete=function(t,e){var n=this;return e===void 0&&(e={}),s.prototype.delete.call(this,t,e).then(function(i){var r,a,c;return!i||((r=n.client.authStore.model)===null||r===void 0?void 0:r.id)!==t||((a=n.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==n.collectionIdOrName&&((c=n.client.authStore.model)===null||c===void 0?void 0:c.collectionName)!==n.collectionIdOrName||n.client.authStore.clear(),i})},o.prototype.authResponse=function(t){var e=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,e),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:e})},o.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(e){return Object.assign({},e,{usernamePassword:!!(e!=null&&e.usernamePassword),emailPassword:!!(e!=null&&e.emailPassword),authProviders:Array.isArray(e==null?void 0:e.authProviders)?e==null?void 0:e.authProviders:[]})})},o.prototype.authWithPassword=function(t,e,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({identity:t,password:e},n),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:i,body:n}).then(function(a){return r.authResponse(a)})},o.prototype.authWithOAuth2Code=function(t,e,n,i,r,a,c){var l=this;return r===void 0&&(r={}),a===void 0&&(a={}),c===void 0&&(c={}),a=Object.assign({provider:t,code:e,codeVerifier:n,redirectUrl:i,createData:r},a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:c,body:a}).then(function(d){return l.authResponse(d)})},o.prototype.authWithOAuth2=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O(this,void 0,void 0,function(){var n,i,r,a,c=this;return P(this,function(l){switch(l.label){case 0:return t.length>1||typeof(t==null?void 0:t[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{})]):(n=(t==null?void 0:t[0])||{},[4,this.listAuthMethods()]);case 1:if(i=l.sent(),!(r=i.authProviders.find(function(d){return d.name===n.provider})))throw new z(new Error('Missing or invalid provider "'.concat(n.provider,'".')));return a=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(d,u){return O(c,void 0,void 0,function(){var f,y,v,U,g,F=this;return P(this,function(j){switch(j.label){case 0:return j.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(k){return O(F,void 0,void 0,function(){var q,A,m;return P(this,function(C){switch(C.label){case 0:q=this.client.realtime.clientId,C.label=1;case 1:if(C.trys.push([1,3,,4]),f(),!k.state||q!==k.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(r.name,k.code,r.codeVerifier,a,n.createData,n.body,n.query)];case 2:return A=C.sent(),d(A),[3,4];case 3:return m=C.sent(),u(new z(m)),[3,4];case 4:return[2]}})})})];case 1:return f=j.sent(),y={state:this.client.realtime.clientId},!((g=n.scopes)===null||g===void 0)&&g.length&&(y.scope=n.scopes.join(" ")),v=this._replaceQueryParams(r.authUrl+a,y),[4,n.urlCallback?n.urlCallback(v):this._defaultUrlCallback(v)];case 2:return j.sent(),[3,4];case 3:return U=j.sent(),u(new z(U)),[3,4];case 4:return[2]}})})})]}})})},o.prototype.authRefresh=function(t,e){var n=this;return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:e,body:t}).then(function(i){return n.authResponse(i)})},o.prototype.requestPasswordReset=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({email:t},e),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:n,body:e}).then(function(){return!0})},o.prototype.confirmPasswordReset=function(t,e,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:t,password:e,passwordConfirm:n},i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:r,body:i}).then(function(){return!0})},o.prototype.requestVerification=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({email:t},e),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:n,body:e}).then(function(){return!0})},o.prototype.confirmVerification=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({token:t},e),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:n,body:e}).then(function(){return!0})},o.prototype.requestEmailChange=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({newEmail:t},e),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:n,body:e}).then(function(){return!0})},o.prototype.confirmEmailChange=function(t,e,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:t,password:e},n),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},o.prototype.listExternalAuths=function(t,e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:e}).then(function(n){var i=[];if(Array.isArray(n))for(var r=0,a=n;r<a.length;r++){var c=a[r];i.push(new ue(c))}return i})},o.prototype.unlinkExternalAuth=function(t,e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(e),{method:"DELETE",params:n}).then(function(){return!0})},o.prototype._replaceQueryParams=function(t,e){e===void 0&&(e={});var n=t,i="";t.indexOf("?")>=0&&(n=t.substring(0,t.indexOf("?")),i=t.substring(t.indexOf("?")+1));for(var r={},a=0,c=i.split("&");a<c.length;a++){var l=c[a];if(l!=""){var d=l.split("=");r[decodeURIComponent(d[0].replace(/\+/g," "))]=decodeURIComponent((d[1]||"").replace(/\+/g," "))}}for(var u in e)e.hasOwnProperty(u)&&(e[u]==null?delete r[u]:r[u]=e[u]);for(var u in i="",r)r.hasOwnProperty(u)&&(i!=""&&(i+="&"),i+=encodeURIComponent(u.replace(/%20/g,"+"))+"="+encodeURIComponent(r[u].replace(/%20/g,"+")));return i!=""?n+"?"+i:n},o.prototype._defaultUrlCallback=function(t){if(typeof window>"u"||!(window!=null&&window.open))throw new z(new Error("Not in a browser context - please pass a custom urlCallback function."));var e=1024,n=768,i=window.innerWidth,r=window.innerHeight,a=i/2-(e=e>i?i:e)/2,c=r/2-(n=n>r?r:n)/2;window.open(t,"oauth2-popup","width="+e+",height="+n+",top="+c+",left="+a+",resizable,menubar=no")},o}(Ot),le=function(o){o===void 0&&(o={}),this.id=o.id!==void 0?o.id:"",this.name=o.name!==void 0?o.name:"",this.type=o.type!==void 0?o.type:"text",this.system=!!o.system,this.required=!!o.required,this.options=typeof o.options=="object"&&o.options!==null?o.options:{}},de=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.$load=function(t){s.prototype.$load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0&&t.options!==null?t.options:{},this.indexes=Array.isArray(t.indexes)?t.indexes:[],this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var e=0,n=t.schema;e<n.length;e++){var i=n[e];this.schema.push(new le(i))}},Object.defineProperty(o.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),o}(ot),pe=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.decode=function(t){return new de(t)},Object.defineProperty(o.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),o.prototype.import=function(t,e,n){return e===void 0&&(e=!1),n===void 0&&(n={}),O(this,void 0,void 0,function(){return P(this,function(i){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:n,body:{collections:t,deleteMissing:e}}).then(function(){return!0})]})})},o}(Ot),$t=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.$load=function(t){s.prototype.$load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},o}(ot),he=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.getRequestsList=function(t,e,n){return t===void 0&&(t=1),e===void 0&&(e=30),n===void 0&&(n={}),n=Object.assign({page:t,perPage:e},n),this.client.send("/api/logs/requests",{method:"GET",params:n}).then(function(i){var r=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var a=0,c=i.items;a<c.length;a++){var l=c[a];r.push(new $t(l))}}return new Bt((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,r)})},o.prototype.getRequest=function(t,e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:e}).then(function(n){return new $t(n)})},o.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(e){return e})},o}(K),fe=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return I(o,s),Object.defineProperty(o.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),o.prototype.subscribe=function(t,e){var n;return O(this,void 0,void 0,function(){var i,r=this;return P(this,function(a){switch(a.label){case 0:if(!t)throw new Error("topic must be set.");return i=function(c){var l,d=c;try{l=JSON.parse(d==null?void 0:d.data)}catch{}e(l||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(i),this.isConnected?[3,2]:[4,this.connect()];case 1:return a.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return a.sent(),[3,5];case 4:(n=this.eventSource)===null||n===void 0||n.addEventListener(t,i),a.label=5;case 5:return[2,function(){return O(r,void 0,void 0,function(){return P(this,function(c){return[2,this.unsubscribeByTopicAndListener(t,i)]})})}]}})})},o.prototype.unsubscribe=function(t){var e;return O(this,void 0,void 0,function(){var n,i,r;return P(this,function(a){switch(a.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(n=0,i=this.subscriptions[t];n<i.length;n++)r=i[n],(e=this.eventSource)===null||e===void 0||e.removeEventListener(t,r);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},o.prototype.unsubscribeByPrefix=function(t){var e;return O(this,void 0,void 0,function(){var n,i,r,a,c;return P(this,function(l){switch(l.label){case 0:for(i in n=!1,this.subscriptions)if(i.startsWith(t)){for(n=!0,r=0,a=this.subscriptions[i];r<a.length;r++)c=a[r],(e=this.eventSource)===null||e===void 0||e.removeEventListener(i,c);delete this.subscriptions[i]}return n?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return l.sent(),[3,3];case 2:this.disconnect(),l.label=3;case 3:return[2]}})})},o.prototype.unsubscribeByTopicAndListener=function(t,e){var n;return O(this,void 0,void 0,function(){var i,r;return P(this,function(a){switch(a.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(i=!1,r=this.subscriptions[t].length-1;r>=0;r--)this.subscriptions[t][r]===e&&(i=!0,delete this.subscriptions[t][r],this.subscriptions[t].splice(r,1),(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,e));return i?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},o.prototype.hasSubscriptionListeners=function(t){var e,n;if(this.subscriptions=this.subscriptions||{},t)return!!(!((e=this.subscriptions[t])===null||e===void 0)&&e.length);for(var i in this.subscriptions)if(!((n=this.subscriptions[i])===null||n===void 0)&&n.length)return!0;return!1},o.prototype.submitSubscriptions=function(){return O(this,void 0,void 0,function(){return P(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(e){if(!(e!=null&&e.isAbort))throw e})]):[2]})})},o.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},o.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var e in this.subscriptions)this.subscriptions[e].length&&t.push(e);return t},o.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var e=0,n=this.subscriptions[t];e<n.length;e++){var i=n[e];this.eventSource.addEventListener(t,i)}},o.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var e=0,n=this.subscriptions[t];e<n.length;e++){var i=n[e];this.eventSource.removeEventListener(t,i)}},o.prototype.connect=function(){return O(this,void 0,void 0,function(){var t=this;return P(this,function(e){return this.reconnectAttempts>0?[2]:[2,new Promise(function(n,i){t.pendingConnects.push({resolve:n,reject:i}),t.pendingConnects.length>1||t.initConnect()})]})})},o.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(e){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(e){var n=e;t.clientId=n==null?void 0:n.lastEventId,t.submitSubscriptions().then(function(){return O(t,void 0,void 0,function(){var i;return P(this,function(r){switch(r.label){case 0:i=3,r.label=1;case 1:return this.hasUnsentSubscriptions()&&i>0?(i--,[4,this.submitSubscriptions()]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var i=0,r=t.pendingConnects;i<r.length;i++)r[i].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(i){t.clientId="",t.connectErrorHandler(i)})})},o.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var e=0,n=t;e<n.length;e++){var i=n[e];if(!this.lastSentTopics.includes(i))return!0}return!1},o.prototype.connectErrorHandler=function(t){var e=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var n=0,i=this.pendingConnects;n<i.length;n++)i[n].reject(new z(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);var r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){e.initConnect()},r)},o.prototype.disconnect=function(t){var e;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(e=this.eventSource)===null||e===void 0||e.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var n=0,i=this.pendingConnects;n<i.length;n++)i[n].resolve();this.pendingConnects=[]}},o}(K),ve=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},o}(K),me=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.getUrl=function(t,e,n){n===void 0&&(n={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(t.collectionId||t.collectionName)),i.push(encodeURIComponent(t.id)),i.push(encodeURIComponent(e));var r=this.client.buildUrl(i.join("/"));if(Object.keys(n).length){var a=new URLSearchParams(n);r+=(r.includes("?")?"&":"?")+a}return r},o.prototype.getToken=function(t){return t===void 0&&(t={}),this.client.send("/api/files/token",{method:"POST",params:t}).then(function(e){return(e==null?void 0:e.token)||""})},o}(K),be=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return I(o,s),o.prototype.getFullList=function(t){return t===void 0&&(t={}),this.client.send("/api/backups",{method:"GET",params:t})},o.prototype.create=function(t,e){e===void 0&&(e={});var n={name:t};return this.client.send("/api/backups",{method:"POST",params:e,body:n}).then(function(){return!0})},o.prototype.delete=function(t,e){return e===void 0&&(e={}),this.client.send("/api/backups/".concat(encodeURIComponent(t)),{method:"DELETE",params:e}).then(function(){return!0})},o.prototype.restore=function(t,e){return e===void 0&&(e={}),this.client.send("/api/backups/".concat(encodeURIComponent(t),"/restore"),{method:"POST",params:e}).then(function(){return!0})},o.prototype.getDownloadUrl=function(t,e){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(e),"?token=").concat(encodeURIComponent(t)))},o}(K),ye=function(){function s(o,t,e){o===void 0&&(o="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=o,this.lang=e,this.authStore=t||new re,this.admins=new ae(this),this.collections=new pe(this),this.files=new me(this),this.logs=new he(this),this.settings=new se(this),this.realtime=new fe(this),this.health=new ve(this),this.backups=new be(this)}return s.prototype.collection=function(o){return this.recordServices[o]||(this.recordServices[o]=new ce(this,o)),this.recordServices[o]},s.prototype.autoCancellation=function(o){return this.enableAutoCancellation=!!o,this},s.prototype.cancelRequest=function(o){return this.cancelControllers[o]&&(this.cancelControllers[o].abort(),delete this.cancelControllers[o]),this},s.prototype.cancelAllRequests=function(){for(var o in this.cancelControllers)this.cancelControllers[o].abort();return this.cancelControllers={},this},s.prototype.send=function(o,t){var e,n,i,r,a,c,l,d;return O(this,void 0,void 0,function(){var u,f,y,v,U,g,F,j,k,q=this;return P(this,function(A){switch(A.label){case 0:return u=Object.assign({method:"GET"},t),this.isFormData(u.body)||(u.body&&typeof u.body!="string"&&(u.body=JSON.stringify(u.body)),((e=u==null?void 0:u.headers)===null||e===void 0?void 0:e["Content-Type"])===void 0&&(u.headers=Object.assign({},u.headers,{"Content-Type":"application/json"}))),((n=u==null?void 0:u.headers)===null||n===void 0?void 0:n["Accept-Language"])===void 0&&(u.headers=Object.assign({},u.headers,{"Accept-Language":this.lang})),!((i=this.authStore)===null||i===void 0)&&i.token&&((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r.Authorization)===void 0&&(u.headers=Object.assign({},u.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((a=u.params)===null||a===void 0?void 0:a.$autoCancel)!==!1&&(f=((c=u.params)===null||c===void 0?void 0:c.$cancelKey)||(u.method||"GET")+o,this.cancelRequest(f),y=new AbortController,this.cancelControllers[f]=y,u.signal=y.signal),(l=u.params)===null||l===void 0||delete l.$autoCancel,(d=u.params)===null||d===void 0||delete d.$cancelKey,v=this.buildUrl(o),u.params!==void 0&&((U=this.serializeQueryParams(u.params))&&(v+=(v.includes("?")?"&":"?")+U),delete u.params),this.beforeSend?(j=(F=Object).assign,k=[{}],[4,this.beforeSend(v,u)]):[3,2];case 1:(g=j.apply(F,k.concat([A.sent()]))).url!==void 0||g.options!==void 0?(v=g.url||v,u=g.options||u):Object.keys(g).length&&(u=g,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),A.label=2;case 2:return[2,fetch(v,u).then(function(m){return O(q,void 0,void 0,function(){var C;return P(this,function(_){switch(_.label){case 0:C={},_.label=1;case 1:return _.trys.push([1,3,,4]),[4,m.json()];case 2:return C=_.sent(),[3,4];case 3:return _.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(m,C)]:[3,6];case 5:C=_.sent(),_.label=6;case 6:if(m.status>=400)throw new z({url:m.url,status:m.status,data:C});return[2,C]}})})}).catch(function(m){throw new z(m)})]}})})},s.prototype.getFileUrl=function(o,t,e){return e===void 0&&(e={}),this.files.getUrl(o,t,e)},s.prototype.buildUrl=function(o){var t,e=this.baseUrl;return typeof window>"u"||!window.location||e.startsWith("https://")||e.startsWith("http://")||(e=!((t=window.location.origin)===null||t===void 0)&&t.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(e+=window.location.pathname||"/",e+=e.endsWith("/")?"":"/"),e+=this.baseUrl),o&&(e+=e.endsWith("/")?"":"/",e+=o.startsWith("/")?o.substring(1):o),e},s.prototype.isFormData=function(o){return o&&(o.constructor.name==="FormData"||typeof FormData<"u"&&o instanceof FormData)},s.prototype.serializeQueryParams=function(o){var t=[];for(var e in o)if(o[e]!==null){var n=o[e],i=encodeURIComponent(e);if(Array.isArray(n))for(var r=0,a=n;r<a.length;r++){var c=a[r];t.push(i+"="+encodeURIComponent(c))}else n instanceof Date?t.push(i+"="+encodeURIComponent(n.toISOString())):typeof n!==null&&typeof n=="object"?t.push(i+"="+encodeURIComponent(JSON.stringify(n))):t.push(i+"="+encodeURIComponent(n))}return t.join("&")},s}();function ge(s){let o;return{c(){o=G("or")},l(t){o=W(t,"or")},m(t,e){Dt(t,o,e)},d(t){t&&b(o)}}}function we(s){let o,t,e,n,i,r,a,c,l,d,u,f,y,v,U,g,F,j,k,q,A,m,C,_,V,lt,Z,dt,Q,pt,ht,N,Y,D,X,ft,tt,vt,et,mt,nt,bt,Pt;return k=new Yt({props:{$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){o=T("div"),t=T("div"),e=T("h1"),n=T("span"),i=G("Sign Up"),r=L(),a=T("form"),c=T("input"),l=L(),d=T("input"),u=L(),f=T("input"),y=L(),v=T("input"),U=L(),g=T("button"),F=G("Sign Up"),j=L(),Wt(k.$$.fragment),q=L(),A=T("div"),m=T("button"),C=T("span"),_=J("svg"),V=J("style"),lt=G(`svg {\r
									fill: #ffffff;\r
								}\r
							`),Z=J("path"),dt=L(),Q=T("span"),pt=G("Discord"),ht=L(),N=T("button"),Y=T("span"),D=J("svg"),X=J("style"),ft=G(`svg {\r
									fill: #ffffff;\r
								}\r
							`),tt=J("path"),vt=L(),et=T("span"),mt=G("Github"),this.h()},l(w){o=E(w,"DIV",{class:!0});var x=S(o);t=E(x,"DIV",{class:!0});var M=S(t);e=E(M,"H1",{class:!0});var It=S(e);n=E(It,"SPAN",{class:!0});var _t=S(n);i=W(_t,"Sign Up"),_t.forEach(b),It.forEach(b),r=$(M),a=E(M,"FORM",{method:!0,action:!0,class:!0});var R=S(a);c=E(R,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0}),l=$(R),d=E(R,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0}),u=$(R),f=E(R,"INPUT",{type:!0,class:!0,placeholder:!0,name:!0}),y=$(R),v=E(R,"INPUT",{type:!0,class:!0,placeholder:!0,name:!0}),U=$(R),g=E(R,"BUTTON",{type:!0,class:!0});var Tt=S(g);F=W(Tt,"Sign Up"),Tt.forEach(b),j=$(R),Kt(k.$$.fragment,R),q=$(R),A=E(R,"DIV",{class:!0});var it=S(A);m=E(it,"BUTTON",{formaction:!0,class:!0,href:!0});var rt=S(m);C=E(rt,"SPAN",{});var Et=S(C);_=H(Et,"svg",{xmlns:!0,height:!0,viewBox:!0});var yt=S(_);V=H(yt,"style",{});var kt=S(V);lt=W(kt,`svg {\r
									fill: #ffffff;\r
								}\r
							`),kt.forEach(b),Z=H(yt,"path",{d:!0}),S(Z).forEach(b),yt.forEach(b),Et.forEach(b),dt=$(rt),Q=E(rt,"SPAN",{});var At=S(Q);pt=W(At,"Discord"),At.forEach(b),rt.forEach(b),ht=$(it),N=E(it,"BUTTON",{formaction:!0,class:!0,href:!0});var st=S(N);Y=E(st,"SPAN",{});var Rt=S(Y);D=H(Rt,"svg",{xmlns:!0,height:!0,viewBox:!0});var gt=S(D);X=H(gt,"style",{});var jt=S(X);ft=W(jt,`svg {\r
									fill: #ffffff;\r
								}\r
							`),jt.forEach(b),tt=H(gt,"path",{d:!0}),S(tt).forEach(b),gt.forEach(b),Rt.forEach(b),vt=$(st),et=E(st,"SPAN",{});var xt=S(et);mt=W(xt,"Github"),xt.forEach(b),st.forEach(b),it.forEach(b),R.forEach(b),M.forEach(b),x.forEach(b),this.h()},h(){p(n,"class","drop-shadow-xl bg-gradient-to-br from-pink-500 to-violet-500 bg-clip-text text-transparent box-decoration-clone"),p(e,"class","h1"),p(c,"class","input"),p(c,"type","text"),p(c,"placeholder","Username"),p(c,"name","username"),p(d,"class","input"),p(d,"type","email"),p(d,"placeholder","Email"),p(d,"name","email"),p(f,"type","password"),p(f,"class","input"),p(f,"placeholder","Password"),p(f,"name","password"),p(v,"type","password"),p(v,"class","input"),p(v,"placeholder","Confirm Password"),p(v,"name","passwordConfirm"),g.disabled=s[4],p(g,"type","submit"),p(g,"class","btn variant-filled w-full font-bold"),p(Z,"d","M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"),p(_,"xmlns","http://www.w3.org/2000/svg"),p(_,"height","2em"),p(_,"viewBox","0 0 640 512"),p(m,"formaction","?/discordSignup"),p(m,"class","logo-item"),p(m,"href","/"),p(tt,"d","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"),p(D,"xmlns","http://www.w3.org/2000/svg"),p(D,"height","2em"),p(D,"viewBox","0 0 496 512"),p(N,"formaction","?/githubSignup"),p(N,"class","logo-item"),p(N,"href","/"),p(A,"class","logo-cloud [&>.logo-item]:variant-filled-secondary grid-cols-1 lg:!grid-cols-2 gap-1"),p(a,"method","post"),p(a,"action","?/signup"),p(a,"class","space-y-5 p-4"),p(t,"class","card m-5 p-8 space-y-5 w-full sm:w-1/2 lg:w-1/3"),p(o,"class","container mx-auto h-full flex justify-center items-center text-center")},m(w,x){Dt(w,o,x),h(o,t),h(t,e),h(e,n),h(n,i),h(t,r),h(t,a),h(a,c),B(c,s[0]),h(a,l),h(a,d),B(d,s[1]),h(a,u),h(a,f),B(f,s[2]),h(a,y),h(a,v),B(v,s[3]),h(a,U),h(a,g),h(g,F),h(a,j),Jt(k,a,null),h(a,q),h(a,A),h(A,m),h(m,C),h(C,_),h(_,V),h(V,lt),h(_,Z),h(m,dt),h(m,Q),h(Q,pt),h(A,ht),h(A,N),h(N,Y),h(Y,D),h(D,X),h(X,ft),h(D,tt),h(N,vt),h(N,et),h(et,mt),nt=!0,bt||(Pt=[at(c,"input",s[6]),at(d,"input",s[7]),at(f,"input",s[8]),at(v,"input",s[9]),Ut(Xt.call(null,a,!0)),Ut(te.call(null,a,Pe))],bt=!0)},p(w,[x]){x&1&&c.value!==w[0]&&B(c,w[0]),x&2&&d.value!==w[1]&&B(d,w[1]),x&4&&f.value!==w[2]&&B(f,w[2]),x&8&&v.value!==w[3]&&B(v,w[3]),(!nt||x&16)&&(g.disabled=w[4]);const M={};x&32768&&(M.$$scope={dirty:x,ctx:w}),k.$set(M)},i(w){nt||(Ht(k.$$.fragment,w),nt=!0)},o(w){Vt(k.$$.fragment,w),nt=!1},d(w){w&&b(o),Zt(k),bt=!1,Qt(Pt)}}}const Se=/^[a-zA-Z0-9_]{3,16}$/,Ce=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,Oe=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,Pe=()=>async({update:s})=>{await s({reset:!1})};function Ie(s,o,t){new ye("http://127.0.0.1:8090");let{data:e}=o,n="",i="",r="",a="",c=!0;function l(){n=this.value,t(0,n)}function d(){i=this.value,t(1,i)}function u(){r=this.value,t(2,r)}function f(){a=this.value,t(3,a)}return s.$$set=y=>{"data"in y&&t(5,e=y.data)},s.$$.update=()=>{s.$$.dirty&32,s.$$.dirty&15&&t(4,c=!Oe.test(i)||!Ce.test(r)||r!==a||!Se.test(n))},[n,i,r,a,c,e,l,d,u,f]}class ke extends zt{constructor(o){super(),Mt(this,o,Ie,we,Gt,{data:5})}}export{ke as component};
